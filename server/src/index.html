<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

</head>
<body>



<script >
  
  let data = [
    {
      "id": "60df5e546419f56b97610600",
      "name": "Electronics",
      "parentId": "0",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "60df5e546419f56b97610601",
      "name": "Clothes",
      "parentId": "0",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "60df5e546419f56b97610602",
      "name": "Mobiles",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "60df5e546419f56b97610603",
      "name": "Tablets",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "60df5e546419f56b97610604",
      "name": "Computer Components",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "60df5e546419f56b97610605",
      "name": "All in One PC",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "69df5e546419f56b97610607",
      "name": "Laptop",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "70df5e546419f56b97610608",
      "name": "Motherboard",
      "parentId": "60df5e546419f56b97610604",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "70df5e546419f56b97610609",
      "name": "Processor",
      "parentId": "60df5e546419f56b97610604",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "70df5e546419f56b9761060a",
      "name": "Ram",
      "parentId": "60df5e546419f56b97610604",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "70df5e546419f56b9761060b",
      "name": "Keyboard",
      "parentId": "60df5e546419f56b97610604",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "60e00694402ddf2ba7d26d43",
      "name": "Computer and Laptop Accessories",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "60e0131fc4db28b79bb36aa3",
      "name": "Mobiles and Tablet",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "610660933763b883da37222f",
      "name": "t-shart",
      "parentId": "60df5e546419f56b97610601",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "610661183763b883da372230",
      "name": "jeans",
      "parentId": "60df5e546419f56b97610601",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6106614b3763b883da372231",
      "name": "lungi",
      "parentId": "60df5e546419f56b97610601",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "610661883763b883da372232",
      "name": "skirt",
      "parentId": "60df5e546419f56b97610601",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6137a040a75f8548ba40c3af",
      "name": "shart",
      "parentId": "60df5e546419f56b97610601",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61397fe19d681052496d2457",
      "name": "sarees",
      "parentId": "60df5e546419f56b97610601",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6139a31e9d681052496d245f",
      "name": "Laptop Battery",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6139a3e99d681052496d2460",
      "name": "Laptop Motherboard",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "623a41184b72d984efe8c454",
      "name": "power-supply",
      "parentId": "60df5e546419f56b97610604",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "613ae2344b72d984efe8c45b",
      "name": "monitors",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6144ed2a38af6a8644f3c271",
      "name": "blouse",
      "parentId": "60df5e546419f56b97610601",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011af4",
      "name": "Mobile Camera Lens Protectors",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011af5",
      "name": "Cases & Covers",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011af6",
      "name": "Power Banks",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011af7",
      "name": "Mobile Holders",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011af8",
      "name": "Mobile Sim & SD Card Trays",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011af9",
      "name": "Mobile Flashes",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011afa",
      "name": "Mobile Battery",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011afb",
      "name": "Mobile Spare Parts",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011afc",
      "name": "Mobile Cables",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011afe",
      "name": "Charging Pads",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011aff",
      "name": "Selfie Sticks",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011b01",
      "name": "SIM Adapters",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011b04",
      "name": "Screen Guards",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011b05",
      "name": "Mobile Displays",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011b06",
      "name": "Mobile Phone Lens",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011b07",
      "name": "Mobile Chargers",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148899cd7c3a8485f011b08",
      "name": "OTG Adapter",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61488d37d7c3a8485f011b09",
      "name": "Headphones",
      "parentId": "60e0131fc4db28b79bb36aa3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489843841259e4451165db",
      "name": "External Hard Disks",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489843841259e4451165de",
      "name": "Laptop Bags",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489843841259e4451165df",
      "name": "Mouse",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489843841259e4451165e0",
      "name": "Audio & Video",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "61489c1f841259e4451165e3",
      "name": "Pendrives",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489c1f841259e4451165e7",
      "name": "Cameras & Accessories",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165e8",
      "name": "Gaming & Accessories",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165eb",
      "name": "Laptop Skins & Decals",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165ef",
      "name": "Cameras",
      "parentId": "61489c1f841259e4451165e7",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165f0",
      "name": "Lens",
      "parentId": "61489c1f841259e4451165e7",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165f1",
      "name": "Tripods",
      "parentId": "61489c1f841259e4451165e7",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165f2",
      "name": "Television.",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165f3",
      "name": "Washing Machine",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165f4",
      "name": "Refrigerators",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489d4e841259e4451165f5",
      "name": "Kitchen Appliances",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "61489e7a841259e4451165f6",
      "name": "Juicer/Mixer/Grinder",
      "parentId": "61489d4e841259e4451165f5",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "61489e7a841259e4451165f7",
      "name": "Chimneys",
      "parentId": "61489d4e841259e4451165f5",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "61489e7a841259e4451165f9",
      "name": "Home Appliances",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e4451165fc",
      "name": "Coffee Makers",
      "parentId": "61489d4e841259e4451165f5",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e4451165fe",
      "name": "Irons",
      "parentId": "61489e7a841259e4451165f9",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e4451165ff",
      "name": "Fans",
      "parentId": "61489e7a841259e4451165f9",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116600",
      "name": "Air Coolers",
      "parentId": "61489e7a841259e4451165f9",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116601",
      "name": "Inverters",
      "parentId": "61489e7a841259e4451165f9",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116602",
      "name": "Voltage Stabilizers",
      "parentId": "61489e7a841259e4451165f9",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116603",
      "name": "Vacuum Cleaners",
      "parentId": "61489e7a841259e4451165f9",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116604",
      "name": "Water Purifiers",
      "parentId": "61489e7a841259e4451165f9",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116606",
      "name": "Home & Furniture",
      "parentId": "0",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116607",
      "name": "Personal Care Appliances",
      "parentId": "0",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148a0bd841259e445116608",
      "name": "Watches and Watch Accessories",
      "parentId": "0",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148a190841259e445116609",
      "name": "Smart Watches",
      "parentId": "6148a0bd841259e445116608",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148a849841259e44511660a",
      "name": "Speaker",
      "parentId": "61489843841259e4451165e0",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148b0ce841259e44511660e",
      "name": "Network Components",
      "parentId": "60e00694402ddf2ba7d26d43",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148b14a841259e44511660f",
      "name": "Routers",
      "parentId": "6148b0ce841259e44511660e",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148b15a841259e445116610",
      "name": "Cables",
      "parentId": "6148b0ce841259e44511660e",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148b16d841259e445116611",
      "name": "LAN Adapters",
      "parentId": "6148b0ce841259e44511660e",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6148b17e841259e445116612",
      "name": "Wireless USB Adapters",
      "parentId": "6148b0ce841259e44511660e",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148b191841259e445116613",
      "name": "Antenna Amplifiers",
      "parentId": "6148b0ce841259e44511660e",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "6148b1a1841259e445116614",
      "name": "Internal Modems",
      "parentId": "6148b0ce841259e44511660e",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "616ed4e947cdd777fb383273",
      "name": "Footwear",
      "parentId": "0",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "616ed52b47cdd777fb383274",
      "name": "Casual Shoes",
      "parentId": "616ed4e947cdd777fb383273",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "616ed57047cdd777fb383275",
      "name": "Sports Shoes",
      "parentId": "616ed4e947cdd777fb383273",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "616ed57c47cdd777fb383276",
      "name": "Formal Shoes",
      "parentId": "616ed4e947cdd777fb383273",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "616f14298ae9a90aa4434f75",
      "name": "DTH",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "616f1d3ca99f7fc73e1acce1",
      "name": "Microphone",
      "parentId": "61489843841259e4451165e0",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "617044aab915d460965a3058",
      "name": "Heels",
      "parentId": "616ed4e947cdd777fb383273",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "6170784f55f4a0b4747a30e3",
      "name": "Beauty and Grooming",
      "parentId": "0",
      "isProductLevel": 1,
      "ideals": null
    },
    {
      "id": "617080e473b3851a1e7dbb78",
      "name": "Perfume",
      "parentId": "6170784f55f4a0b4747a30e3",
      "isProductLevel": 0,
      "ideals": null
    },
    {
      "id": "617080e473b3851a1e7dbb71",
      "name": "Computer and Laptop",
      "parentId": "60df5e546419f56b97610600",
      "isProductLevel": 0,
      "ideals": null
    }
  ]

  let last = "Motherboard"
  let parent = "Electronics"


  function getRootLevelNested(data, last, parent){
    function findParent(data, item){
      return  data.find(el => el.id === item.parentId);
    }

    function getAndSetChild(data, el, lastLevel, parent){

      if(lastLevel) {
        let lastChildren = data.filter(item => item.parentId === el.id);
        if (lastChildren && lastChildren.length) {
          el.sub = lastChildren
        }
        // look forward one step up
        return getAndSetChild(data, el, false, parent)

      } else{
        let step = findParent(data, el)
        if(step) {
          let stepChildren = findChildren(data, el)
          step.sub = stepChildren

          // step iteration because we found root level
          if (step.name === parent) {
            return step;
          } else {
            return getAndSetChild(data, step, false, parent)
          }
        }
      }
    }

    function getParent(data, last, parent) {
      let result = {}
      for (let i = 0; i < data.length; i++) {
        const el = data[i];
        if (el.name === last) {
          result =  getAndSetChild(data, el, true, parent)
          break;
        }
      }
      return result;
    }

    function findChildren(data, item){
      return data.filter(d=>d.parentId === item.parentId)
    }

    return getParent(data, last, parent)
  }








</script>


</body>
</html>